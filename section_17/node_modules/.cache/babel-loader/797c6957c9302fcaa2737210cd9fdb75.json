{"remainingRequest":"/home/chetan/vue-js/section_17/node_modules/babel-loader/lib/index.js!/home/chetan/vue-js/section_17/node_modules/eslint-loader/index.js??ref--14-0!/home/chetan/vue-js/section_17/src/store/modules/requests/actions.js","dependencies":[{"path":"/home/chetan/vue-js/section_17/src/store/modules/requests/actions.js","mtime":1646312030870},{"path":"/home/chetan/vue-js/section_17/babel.config.js","mtime":1598433744000},{"path":"/home/chetan/vue-js/section_17/node_modules/cache-loader/dist/cjs.js","mtime":1646198221941},{"path":"/home/chetan/vue-js/section_17/node_modules/babel-loader/lib/index.js","mtime":1646198222633},{"path":"/home/chetan/vue-js/section_17/node_modules/eslint-loader/index.js","mtime":1646198221925}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2NoZXRhbi92dWUtanMvc2VjdGlvbl8xNy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbnRhY3RDb2FjaDogZnVuY3Rpb24gY29udGFjdENvYWNoKGNvbnRleHQsIHBheWxvYWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBuZXdSZXF1ZXN0LCByZXNwb25zZSwgcmVzcG9uc2VEYXRhLCBlcnJvcjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIG5ld1JlcXVlc3QgPSB7CiAgICAgICAgICAgICAgICB1c2VyRW1haWw6IHBheWxvYWQuZW1haWwsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiBwYXlsb2FkLm1lc3NhZ2UKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly92dWUtaHR0cC1jZjc3Yy1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vcmVxdWVzdHMvIi5jb25jYXQocGF5bG9hZC5jb2FjaElkLCAiLmpzb24iKSwgewogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShuZXdSZXF1ZXN0KQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihyZXNwb25zZURhdGEubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNlbmQgcmVxdWVzdC4nKTsKICAgICAgICAgICAgICB0aHJvdyBlcnJvcjsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgbmV3UmVxdWVzdC5pZCA9IHJlc3BvbnNlRGF0YS5uYW1lOwogICAgICAgICAgICAgIG5ld1JlcXVlc3QuY29hY2hJZCA9IHBheWxvYWQuY29hY2hJZDsKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnYWRkUmVxdWVzdCcsIG5ld1JlcXVlc3QpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGZldGNoUmVxdWVzdHM6IGZ1bmN0aW9uIGZldGNoUmVxdWVzdHMoY29udGV4dCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBjb2FjaElkLCB0b2tlbiwgcmVzcG9uc2UsIHJlc3BvbnNlRGF0YSwgZXJyb3IsIHJlcXVlc3RzLCBrZXksIHJlcXVlc3Q7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29hY2hJZCA9IGNvbnRleHQucm9vdEdldHRlcnMudXNlcklkOwogICAgICAgICAgICAgIHRva2VuID0gY29udGV4dC5yb290R2V0dGVycy50b2tlbjsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwczovL3Z1ZS1odHRwLWNmNzdjLWRlZmF1bHQtcnRkYi5maXJlYmFzZWlvLmNvbS9yZXF1ZXN0cy8iLmNvbmNhdChjb2FjaElkLCAiLmpzb24/YXV0aD0iKSArIHRva2VuKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZmV0Y2ggcmVxdWVzdC4nKTsKICAgICAgICAgICAgICB0aHJvdyBlcnJvcjsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgcmVxdWVzdHMgPSBbXTsKCiAgICAgICAgICAgICAgZm9yIChrZXkgaW4gcmVzcG9uc2VEYXRhKSB7CiAgICAgICAgICAgICAgICByZXF1ZXN0ID0gewogICAgICAgICAgICAgICAgICBpZDoga2V5LAogICAgICAgICAgICAgICAgICBjb2FjaElkOiBjb2FjaElkLAogICAgICAgICAgICAgICAgICB1c2VyRW1haWw6IHJlc3BvbnNlRGF0YVtrZXldLnVzZXJFbWFpbCwKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2VEYXRhW2tleV0ubWVzc2FnZQogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHJlcXVlc3RzLnB1c2gocmVxdWVzdCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0UmVxdWVzdHMnLCByZXF1ZXN0cyk7CgogICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["/home/chetan/vue-js/section_17/src/store/modules/requests/actions.js"],"names":["contactCoach","context","payload","newRequest","userEmail","email","message","fetch","coachId","method","body","JSON","stringify","response","json","responseData","ok","error","Error","id","name","commit","fetchRequests","rootGetters","userId","token","requests","key","request","push"],"mappings":";;;;;;;AAAA,eAAe;AACLA,EAAAA,YADK,wBACQC,OADR,EACiBC,OADjB,EAC0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3BC,cAAAA,UAD2B,GACd;AACfC,gBAAAA,SAAS,EAAEF,OAAO,CAACG,KADJ;AAEfC,gBAAAA,OAAO,EAAEJ,OAAO,CAACI;AAFF,eADc;AAAA;AAAA,qBAMVC,KAAK,uEAAgEL,OAAO,CAACM,OAAxE,YAAwF;AAChHC,gBAAAA,MAAM,EAAE,MADwG;AAEhHC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,UAAf;AAF0G,eAAxF,CANK;;AAAA;AAM3BU,cAAAA,QAN2B;AAAA;AAAA,qBAWNA,QAAQ,CAACC,IAAT,EAXM;;AAAA;AAW3BC,cAAAA,YAX2B;;AAAA,kBAa7BF,QAAQ,CAACG,EAboB;AAAA;AAAA;AAAA;;AAcvBC,cAAAA,KAduB,GAcf,IAAIC,KAAJ,CAAUH,YAAY,CAACT,OAAb,IAAwB,yBAAlC,CAde;AAAA,oBAevBW,KAfuB;;AAAA;AAkBjCd,cAAAA,UAAU,CAACgB,EAAX,GAAgBJ,YAAY,CAACK,IAA7B;AACAjB,cAAAA,UAAU,CAACK,OAAX,GAAqBN,OAAO,CAACM,OAA7B;AAEAP,cAAAA,OAAO,CAACoB,MAAR,CAAe,YAAf,EAA6BlB,UAA7B;;AArBiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBpC,GAvBU;AAwBLmB,EAAAA,aAxBK,yBAwBSrB,OAxBT,EAwBkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBO,cAAAA,OADmB,GACTP,OAAO,CAACsB,WAAR,CAAoBC,MADX;AAEnBC,cAAAA,KAFmB,GAEXxB,OAAO,CAACsB,WAAR,CAAoBE,KAFT;AAAA;AAAA,qBAGFlB,KAAK,CAAC,sEAA+DC,OAA/D,mBAAsFiB,KAAvF,CAHH;;AAAA;AAGnBZ,cAAAA,QAHmB;AAAA;AAAA,qBAIEA,QAAQ,CAACC,IAAT,EAJF;;AAAA;AAInBC,cAAAA,YAJmB;;AAAA,kBAMrBF,QAAQ,CAACG,EANY;AAAA;AAAA;AAAA;;AAOfC,cAAAA,KAPe,GAOP,IAAIC,KAAJ,CAAUH,YAAY,CAACT,OAAb,IAAwB,0BAAlC,CAPO;AAAA,oBAQfW,KARe;;AAAA;AAWnBS,cAAAA,QAXmB,GAWR,EAXQ;;AAazB,mBAAUC,GAAV,IAAiBZ,YAAjB,EAA+B;AACrBa,gBAAAA,OADqB,GACX;AACZT,kBAAAA,EAAE,EAAEQ,GADQ;AAEZnB,kBAAAA,OAAO,EAAEA,OAFG;AAGZJ,kBAAAA,SAAS,EAAEW,YAAY,CAACY,GAAD,CAAZ,CAAkBvB,SAHjB;AAIZE,kBAAAA,OAAO,EAAES,YAAY,CAACY,GAAD,CAAZ,CAAkBrB;AAJf,iBADW;AAO3BoB,gBAAAA,QAAQ,CAACG,IAAT,CAAcD,OAAd;AACH;;AAED3B,cAAAA,OAAO,CAACoB,MAAR,CAAe,aAAf,EAA8BK,QAA9B;;AAvByB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAwB5B;AAhDU,CAAf","sourcesContent":["export default {\n    async contactCoach(context, payload) {\n        const newRequest = { \n            userEmail: payload.email,\n            message: payload.message\n        };\n\n        const response = await fetch(`https://vue-http-cf77c-default-rtdb.firebaseio.com/requests/${payload.coachId}.json`, {\n            method: 'POST',\n            body: JSON.stringify(newRequest)\n        });\n\n        const responseData = await response.json();\n\n        if(!response.ok) {\n            const error = new Error(responseData.message || 'Failed to send request.');\n            throw error;\n        }\n\n        newRequest.id = responseData.name;\n        newRequest.coachId = payload.coachId;\n        \n        context.commit('addRequest', newRequest);\n    },\n    async fetchRequests(context) {\n        const coachId = context.rootGetters.userId;\n        const token = context.rootGetters.token;\n        const response = await fetch(`https://vue-http-cf77c-default-rtdb.firebaseio.com/requests/${coachId}.json?auth=` + token);\n        const responseData = await response.json();\n         \n        if(!response.ok) {\n            const error = new Error(responseData.message || 'Failed to fetch request.');\n            throw error;\n        }\n\n        const requests = [];\n\n        for(const key in responseData) {\n            const request = {\n                id: key,\n                coachId: coachId,\n                userEmail: responseData[key].userEmail,\n                message: responseData[key].message\n            }\n            requests.push(request);\n        }\n\n        context.commit('setRequests', requests);\n    }\n};"]}]}