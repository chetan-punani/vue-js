{"remainingRequest":"/home/chetan/vue-js/section_17/node_modules/babel-loader/lib/index.js!/home/chetan/vue-js/section_17/node_modules/eslint-loader/index.js??ref--14-0!/home/chetan/vue-js/section_17/src/store/modules/requests/actions.js","dependencies":[{"path":"/home/chetan/vue-js/section_17/src/store/modules/requests/actions.js","mtime":1646288275643},{"path":"/home/chetan/vue-js/section_17/babel.config.js","mtime":1598433744000},{"path":"/home/chetan/vue-js/section_17/node_modules/cache-loader/dist/cjs.js","mtime":1646198221941},{"path":"/home/chetan/vue-js/section_17/node_modules/babel-loader/lib/index.js","mtime":1646198222633},{"path":"/home/chetan/vue-js/section_17/node_modules/eslint-loader/index.js","mtime":1646198221925}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2NoZXRhbi92dWUtanMvc2VjdGlvbl8xNy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbnRhY3RDb2FjaDogZnVuY3Rpb24gY29udGFjdENvYWNoKGNvbnRleHQsIHBheWxvYWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBuZXdSZXF1ZXN0LCByZXNwb25zZSwgcmVzcG9uc2VEYXRhLCBlcnJvcjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIG5ld1JlcXVlc3QgPSB7CiAgICAgICAgICAgICAgICB1c2VyRW1haWw6IHBheWxvYWQuZW1haWwsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiBwYXlsb2FkLm1lc3NhZ2UKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly92dWUtaHR0cC1jZjc3Yy1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vcmVxdWVzdHMvIi5jb25jYXQocGF5bG9hZC5jb2FjaElkLCAiLmpzb24iKSwgewogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShuZXdSZXF1ZXN0KQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihyZXNwb25zZURhdGEubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNlbmQgcmVxdWVzdC4nKTsKICAgICAgICAgICAgICB0aHJvdyBlcnJvcjsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgbmV3UmVxdWVzdC5pZCA9IHJlc3BvbnNlRGF0YS5uYW1lOwogICAgICAgICAgICAgIG5ld1JlcXVlc3QuY29hY2hJZCA9IHBheWxvYWQuY29hY2hJZDsKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnYWRkUmVxdWVzdCcsIG5ld1JlcXVlc3QpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGZldGNoUmVxdWVzdHM6IGZ1bmN0aW9uIGZldGNoUmVxdWVzdHMoY29udGV4dCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBjb2FjaElkLCByZXNwb25zZSwgcmVzcG9uc2VEYXRhLCBlcnJvciwgcmVxdWVzdHMsIGtleSwgcmVxdWVzdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb2FjaElkID0gY29udGV4dC5yb290R2V0dGVycy51c2VySWQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly92dWUtaHR0cC1jZjc3Yy1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vcmVxdWVzdHMvIi5jb25jYXQoY29hY2hJZCwgIi5qc29uIikpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMDsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2VEYXRhLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBmZXRjaCByZXF1ZXN0LicpOwogICAgICAgICAgICAgIHRocm93IGVycm9yOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICByZXF1ZXN0cyA9IFtdOwoKICAgICAgICAgICAgICBmb3IgKGtleSBpbiByZXNwb25zZURhdGEpIHsKICAgICAgICAgICAgICAgIHJlcXVlc3QgPSB7CiAgICAgICAgICAgICAgICAgIGlkOiBrZXksCiAgICAgICAgICAgICAgICAgIGNvYWNoSWQ6IGNvYWNoSWQsCiAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogcmVzcG9uc2VEYXRhW2tleV0udXNlckVtYWlsLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZURhdGFba2V5XS5tZXNzYWdlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgcmVxdWVzdHMucHVzaChyZXF1ZXN0KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRSZXF1ZXN0cycsIHJlcXVlc3RzKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["/home/chetan/vue-js/section_17/src/store/modules/requests/actions.js"],"names":["contactCoach","context","payload","newRequest","userEmail","email","message","fetch","coachId","method","body","JSON","stringify","response","json","responseData","ok","error","Error","id","name","commit","fetchRequests","rootGetters","userId","requests","key","request","push"],"mappings":";;;;;;;AAAA,eAAe;AACLA,EAAAA,YADK,wBACQC,OADR,EACiBC,OADjB,EAC0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3BC,cAAAA,UAD2B,GACd;AACfC,gBAAAA,SAAS,EAAEF,OAAO,CAACG,KADJ;AAEfC,gBAAAA,OAAO,EAAEJ,OAAO,CAACI;AAFF,eADc;AAAA;AAAA,qBAMVC,KAAK,uEAAgEL,OAAO,CAACM,OAAxE,YAAwF;AAChHC,gBAAAA,MAAM,EAAE,MADwG;AAEhHC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,UAAf;AAF0G,eAAxF,CANK;;AAAA;AAM3BU,cAAAA,QAN2B;AAAA;AAAA,qBAWNA,QAAQ,CAACC,IAAT,EAXM;;AAAA;AAW3BC,cAAAA,YAX2B;;AAAA,kBAa7BF,QAAQ,CAACG,EAboB;AAAA;AAAA;AAAA;;AAcvBC,cAAAA,KAduB,GAcf,IAAIC,KAAJ,CAAUH,YAAY,CAACT,OAAb,IAAwB,yBAAlC,CAde;AAAA,oBAevBW,KAfuB;;AAAA;AAkBjCd,cAAAA,UAAU,CAACgB,EAAX,GAAgBJ,YAAY,CAACK,IAA7B;AACAjB,cAAAA,UAAU,CAACK,OAAX,GAAqBN,OAAO,CAACM,OAA7B;AAEAP,cAAAA,OAAO,CAACoB,MAAR,CAAe,YAAf,EAA6BlB,UAA7B;;AArBiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsBpC,GAvBU;AAwBLmB,EAAAA,aAxBK,yBAwBSrB,OAxBT,EAwBkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACnBO,cAAAA,OADmB,GACTP,OAAO,CAACsB,WAAR,CAAoBC,MADX;AAAA;AAAA,qBAEFjB,KAAK,uEAAgEC,OAAhE,WAFH;;AAAA;AAEnBK,cAAAA,QAFmB;AAAA;AAAA,qBAGEA,QAAQ,CAACC,IAAT,EAHF;;AAAA;AAGnBC,cAAAA,YAHmB;;AAAA,kBAKrBF,QAAQ,CAACG,EALY;AAAA;AAAA;AAAA;;AAMfC,cAAAA,KANe,GAMP,IAAIC,KAAJ,CAAUH,YAAY,CAACT,OAAb,IAAwB,0BAAlC,CANO;AAAA,oBAOfW,KAPe;;AAAA;AAUnBQ,cAAAA,QAVmB,GAUR,EAVQ;;AAYzB,mBAAUC,GAAV,IAAiBX,YAAjB,EAA+B;AACrBY,gBAAAA,OADqB,GACX;AACZR,kBAAAA,EAAE,EAAEO,GADQ;AAEZlB,kBAAAA,OAAO,EAAEA,OAFG;AAGZJ,kBAAAA,SAAS,EAAEW,YAAY,CAACW,GAAD,CAAZ,CAAkBtB,SAHjB;AAIZE,kBAAAA,OAAO,EAAES,YAAY,CAACW,GAAD,CAAZ,CAAkBpB;AAJf,iBADW;AAO3BmB,gBAAAA,QAAQ,CAACG,IAAT,CAAcD,OAAd;AACH;;AAED1B,cAAAA,OAAO,CAACoB,MAAR,CAAe,aAAf,EAA8BI,QAA9B;;AAtByB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAuB5B;AA/CU,CAAf","sourcesContent":["export default {\n    async contactCoach(context, payload) {\n        const newRequest = { \n            userEmail: payload.email,\n            message: payload.message\n        };\n\n        const response = await fetch(`https://vue-http-cf77c-default-rtdb.firebaseio.com/requests/${payload.coachId}.json`, {\n            method: 'POST',\n            body: JSON.stringify(newRequest)\n        });\n\n        const responseData = await response.json();\n\n        if(!response.ok) {\n            const error = new Error(responseData.message || 'Failed to send request.');\n            throw error;\n        }\n\n        newRequest.id = responseData.name;\n        newRequest.coachId = payload.coachId;\n        \n        context.commit('addRequest', newRequest);\n    },\n    async fetchRequests(context) {\n        const coachId = context.rootGetters.userId;\n        const response = await fetch(`https://vue-http-cf77c-default-rtdb.firebaseio.com/requests/${coachId}.json`);\n        const responseData = await response.json();\n         \n        if(!response.ok) {\n            const error = new Error(responseData.message || 'Failed to fetch request.');\n            throw error;\n        }\n\n        const requests = [];\n\n        for(const key in responseData) {\n            const request = {\n                id: key,\n                coachId: coachId,\n                userEmail: responseData[key].userEmail,\n                message: responseData[key].message\n            }\n            requests.push(request);\n        }\n\n        context.commit('setRequests', requests);\n    }\n};"]}]}