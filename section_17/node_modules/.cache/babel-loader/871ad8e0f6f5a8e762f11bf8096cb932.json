{"remainingRequest":"/home/chetan/vue-js/section_17/node_modules/babel-loader/lib/index.js!/home/chetan/vue-js/section_17/node_modules/cache-loader/dist/cjs.js??ref--1-0!/home/chetan/vue-js/section_17/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/home/chetan/vue-js/section_17/src/pages/auth/UserAuth.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/chetan/vue-js/section_17/src/pages/auth/UserAuth.vue","mtime":1646313704530},{"path":"/home/chetan/vue-js/section_17/babel.config.js","mtime":1598433744000},{"path":"/home/chetan/vue-js/section_17/node_modules/cache-loader/dist/cjs.js","mtime":1646198221941},{"path":"/home/chetan/vue-js/section_17/node_modules/babel-loader/lib/index.js","mtime":1646198222633},{"path":"/home/chetan/vue-js/section_17/node_modules/cache-loader/dist/cjs.js","mtime":1646198221941},{"path":"/home/chetan/vue-js/section_17/node_modules/vue-loader-v16/dist/index.js","mtime":1646198222621}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2NoZXRhbi92dWUtanMvc2VjdGlvbl8xNy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaW5jbHVkZXMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBlbWFpbDogIiIsCiAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgZm9ybUlzVmFsaWQ6IHRydWUsCiAgICAgIG1vZGU6ICJsb2dpbiIsCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGVycm9yOiBudWxsCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN1Ym1pdEJ1dHRvbkNhcHRpb246IGZ1bmN0aW9uIHN1Ym1pdEJ1dHRvbkNhcHRpb24oKSB7CiAgICAgIGlmICh0aGlzLm1vZGUgPT09ICJsb2dpbiIpIHsKICAgICAgICByZXR1cm4gIkxvZ2luIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIlNpZ251cCI7CiAgICAgIH0KICAgIH0sCiAgICBzd2l0Y2hCdXR0b25DYXB0aW9uOiBmdW5jdGlvbiBzd2l0Y2hCdXR0b25DYXB0aW9uKCkgewogICAgICBpZiAodGhpcy5tb2RlID09PSAibG9naW4iKSB7CiAgICAgICAgcmV0dXJuICJTaWdudXAgaW5zdGVkIjsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIkxvZ2luIGluc3RlZCI7CiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBhY3Rpb25QYXlsb2FkLCByZWRpcmVjdFVybDsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5mb3JtSXNWYWxpZCA9IHRydWU7CgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMuZW1haWwgPT09ICIiIHx8ICFfdGhpcy5lbWFpbC5pbmNsdWRlcygiQCIpIHx8IF90aGlzLnBhc3N3b3JkLmxlbmd0aCA8IDYpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5mb3JtSXNWYWxpZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBhY3Rpb25QYXlsb2FkID0gewogICAgICAgICAgICAgICAgICBlbWFpbDogX3RoaXMuZW1haWwsCiAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBfdGhpcy5wYXNzd29yZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA2OwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLm1vZGUgPT09ICJsb2dpbiIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgnbG9naW4nLCBhY3Rpb25QYXlsb2FkKTsKCiAgICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRzdG9yZS5kaXNwYXRjaCgic2lnbnVwIiwgYWN0aW9uUGF5bG9hZCk7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICByZWRpcmVjdFVybCA9ICcvJyArIChfdGhpcy4kcm91dGUucXVlcnkucmVkaXJlY3QgfHwgJ2NvYWNoZXMnKTsKCiAgICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnJlcGxhY2UocmVkaXJlY3RVcmwpOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE4OwogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSg2KTsKICAgICAgICAgICAgICAgIF90aGlzLmVycm9yID0gX2NvbnRleHQudDAubWVzc2FnZSB8fCAiRmFpbGVkIHRvIGF1dGhlbnRpY2F0aW9uLCB0cnkgbGF0ZXIiOwoKICAgICAgICAgICAgICBjYXNlIDIxOgogICAgICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzYsIDE4XV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzd2l0Y2hBdXRoTW9kZTogZnVuY3Rpb24gc3dpdGNoQXV0aE1vZGUoKSB7CiAgICAgIGlmICh0aGlzLm1vZGUgPT09ICJsb2dpbiIpIHsKICAgICAgICB0aGlzLm1vZGUgPSAic2lnbnVwIjsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1vZGUgPSAibG9naW4iOwogICAgICB9CiAgICB9LAogICAgaGFuZGxlRXJyb3I6IGZ1bmN0aW9uIGhhbmRsZUVycm9yKCkgewogICAgICB0aGlzLmVycm9yID0gbnVsbDsKICAgIH0KICB9Cn07"},{"version":3,"mappings":";;;;;;AAgCA,eAAe;AACbA,MADa,kBACN;AACL,WAAO;AACLC,WAAK,EAAE,EADF;AAELC,cAAQ,EAAE,EAFL;AAGLC,iBAAW,EAAE,IAHR;AAILC,UAAI,EAAE,OAJD;AAKLC,eAAS,EAAE,KALN;AAMLC,WAAK,EAAE;AANF,KAAP;AAQD,GAVY;AAWbC,UAAQ,EAAE;AACRC,uBADQ,iCACc;AACpB,UAAI,KAAKJ,IAAL,KAAc,OAAlB,EAA2B;AACzB,eAAO,OAAP;AACF,OAFA,MAEO;AACL,eAAO,QAAP;AACF;AACD,KAPO;AAQRK,uBARQ,iCAQc;AACpB,UAAI,KAAKL,IAAL,KAAc,OAAlB,EAA2B;AACzB,eAAO,eAAP;AACF,OAFA,MAEO;AACL,eAAO,cAAP;AACF;AACD;AAdO,GAXG;AA2BbM,SAAO,EAAE;AACDC,cADC,wBACY;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACjB,qBAAI,CAACR,WAAL,GAAmB,IAAnB;;AADiB,sBAIf,KAAI,CAACF,KAAL,KAAe,EAAf,IACA,CAAC,KAAI,CAACA,KAAL,CAAWW,QAAX,CAAoB,GAApB,CADD,IAEA,KAAI,CAACV,QAAL,CAAcW,MAAd,GAAuB,CANR;AAAA;AAAA;AAAA;;AAQf,qBAAI,CAACV,WAAL,GAAmB,KAAnB;AARe;;AAAA;AAYjB,qBAAI,CAACE,SAAL,GAAiB,IAAjB;AAEMS,6BAdW,GAcK;AAChBb,uBAAK,EAAE,KAAI,CAACA,KADI;AAEhBC,0BAAQ,EAAE,KAAI,CAACA;AAFC,iBAdL;AAAA;;AAAA,sBAoBX,KAAI,CAACE,IAAL,KAAc,OApBH;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAqBP,KAAI,CAACW,MAAL,CAAYC,QAAZ,CAAqB,OAArB,EAA8BF,aAA9B,CArBO;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAuBP,KAAI,CAACC,MAAL,CAAYC,QAAZ,CAAqB,QAArB,EAA+BF,aAA/B,CAvBO;;AAAA;AAyBTG,2BAzBS,GAyBK,OAAO,KAAI,CAACC,MAAL,CAAYC,KAAZ,CAAkBC,QAAlB,IAA8B,SAArC,CAzBL;;AA0Bf,qBAAI,CAACC,OAAL,CAAaC,OAAb,CAAqBL,WAArB;;AA1Be;AAAA;;AAAA;AAAA;AAAA;AA4Bf,qBAAI,CAACX,KAAL,GAAa,YAAMiB,OAAN,IAAiB,qCAA9B;;AA5Be;AA+BjB,qBAAI,CAAClB,SAAL,GAAiB,KAAjB;;AA/BiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgClB,KAjCM;AAkCPmB,kBAlCO,4BAkCU;AACf,UAAI,KAAKpB,IAAL,KAAc,OAAlB,EAA2B;AACzB,aAAKA,IAAL,GAAY,QAAZ;AACF,OAFA,MAEO;AACL,aAAKA,IAAL,GAAY,OAAZ;AACF;AACD,KAxCM;AAyCPqB,eAzCO,yBAyCO;AACV,WAAKnB,KAAL,GAAa,IAAb;AACJ;AA3CO;AA3BI,CAAf","names":["data","email","password","formIsValid","mode","isLoading","error","computed","submitButtonCaption","switchButtonCaption","methods","submitForm","includes","length","actionPayload","$store","dispatch","redirectUrl","$route","query","redirect","$router","replace","message","switchAuthMode","handleError"],"sourceRoot":"","sources":["/home/chetan/vue-js/section_17/src/pages/auth/UserAuth.vue"],"sourcesContent":["<template>\n  <section>\n      <base-dialog :show=\"!!error\" title=\"An Error Occured\" @close=\"handleError\">\n        <p>{{ error }}</p>\n      </base-dialog>\n      <base-dialog :show=\"isLoading\" title=\"Authenticating...\" fixed>\n        <p>Authenticating....</p>\n        <base-spinner></base-spinner>\n      </base-dialog>\n    <base-card>\n      <form @submit.prevent=\"submitForm\">\n        <div class=\"form-control\">\n          <label for=\"email\">Email</label>\n          <input type=\"email\" id=\"email\" v-model.trim=\"email\" />\n        </div>\n        <div class=\"form-control\">\n          <label for=\"password\">Password</label>\n          <input type=\"password\" id=\"password\" v-model.trim=\"password\" />\n        </div>\n        <p v-if=\"!formIsValid\">\n          Please enter email and password (must be 6 characters)\n        </p>\n        <base-button>{{ submitButtonCaption }}</base-button>\n        <base-button type=\"button\" mode=\"flat\" @click=\"switchAuthMode\">{{\n          switchButtonCaption\n        }}</base-button>\n      </form>\n    </base-card>\n  </section>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      formIsValid: true,\n      mode: \"login\",\n      isLoading: false,\n      error: null,\n    };\n  },\n  computed: {\n    submitButtonCaption() {\n      if (this.mode === \"login\") {\n        return \"Login\";\n      } else {\n        return \"Signup\";\n      }\n    },\n    switchButtonCaption() {\n      if (this.mode === \"login\") {\n        return \"Signup insted\";\n      } else {\n        return \"Login insted\";\n      }\n    },\n  },\n  methods: {\n    async submitForm() {\n      this.formIsValid = true;\n\n      if (\n        this.email === \"\" ||\n        !this.email.includes(\"@\") ||\n        this.password.length < 6\n      ) {\n        this.formIsValid = false;\n        return;\n      }\n\n      this.isLoading = true;\n\n      const actionPayload = {\n            email: this.email,\n            password: this.password,\n          };\n\n      try {\n        if (this.mode === \"login\") {\n          await this.$store.dispatch('login', actionPayload);\n        } else {\n          await this.$store.dispatch(\"signup\", actionPayload);\n        }\n        const redirectUrl = '/' + (this.$route.query.redirect || 'coaches');\n        this.$router.replace(redirectUrl);\n      } catch (error) {\n        this.error = error.message || \"Failed to authentication, try later\";\n      }\n\n      this.isLoading = false;\n    },\n    switchAuthMode() {\n      if (this.mode === \"login\") {\n        this.mode = \"signup\";\n      } else {\n        this.mode = \"login\";\n      }\n    },\n    handleError() {\n        this.error = null;\n    }\n  },\n};\n</script>\n\n<style scoped>\nform {\n  margin: 1rem;\n  padding: 1rem;\n}\n\n.form-control {\n  margin: 0.5rem 0;\n}\n\nlabel {\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n  display: block;\n}\n\ninput,\ntextarea {\n  display: block;\n  width: 100%;\n  font: inherit;\n  border: 1px solid #ccc;\n  padding: 0.15rem;\n}\n\ninput:focus,\ntextarea:focus {\n  border-color: #3d008d;\n  background-color: #faf6ff;\n  outline: none;\n}\n</style>\n"]}]}