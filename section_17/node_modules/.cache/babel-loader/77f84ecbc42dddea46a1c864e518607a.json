{"remainingRequest":"/home/chetan/vue-js/section_17/node_modules/babel-loader/lib/index.js!/home/chetan/vue-js/section_17/node_modules/eslint-loader/index.js??ref--14-0!/home/chetan/vue-js/section_17/src/store/modules/coaches/actons.js","dependencies":[{"path":"/home/chetan/vue-js/section_17/src/store/modules/coaches/actons.js","mtime":1646312030870},{"path":"/home/chetan/vue-js/section_17/babel.config.js","mtime":1598433744000},{"path":"/home/chetan/vue-js/section_17/node_modules/cache-loader/dist/cjs.js","mtime":1646198221941},{"path":"/home/chetan/vue-js/section_17/node_modules/babel-loader/lib/index.js","mtime":1646198222633},{"path":"/home/chetan/vue-js/section_17/node_modules/eslint-loader/index.js","mtime":1646198221925}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvY2hldGFuL3Z1ZS1qcy9zZWN0aW9uXzE3L25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyLmpzIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL2NoZXRhbi92dWUtanMvc2VjdGlvbl8xNy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5lcnJvci50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zeW1ib2wuZGVzY3JpcHRpb24uanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgcmVnaXN0ZXJDb2FjaDogZnVuY3Rpb24gcmVnaXN0ZXJDb2FjaChjb250ZXh0LCBkYXRhKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgdXNlcklkLCBjb2FjaERhdGEsIHRva2VuLCByZXNwb25zZTsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIHVzZXJJZCA9IGNvbnRleHQucm9vdEdldHRlcnMudXNlcklkOwogICAgICAgICAgICAgIGNvYWNoRGF0YSA9IHsKICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogZGF0YS5maXJzdCwKICAgICAgICAgICAgICAgIGxhc3ROYW1lOiBkYXRhLmxhc3QsCiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjLAogICAgICAgICAgICAgICAgaG91cmx5UmF0ZTogZGF0YS5yYXRlLAogICAgICAgICAgICAgICAgYXJlYXM6IGRhdGEuYXJlYXMKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIHRva2VuID0gY29udGV4dC5yb290R2V0dGVycy50b2tlbjsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHBzOi8vdnVlLWh0dHAtY2Y3N2MtZGVmYXVsdC1ydGRiLmZpcmViYXNlaW8uY29tL2NvYWNoZXMvIi5jb25jYXQodXNlcklkLCAiLmpzb24/YXV0aD0iKSArIHRva2VuLCB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQVVQnLAogICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoY29hY2hEYXRhKQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgLy8gY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpOwogICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHsvLyAgICBlcnJvciAKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdyZWdpc3RlckNvYWNoJywgX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjb2FjaERhdGEpLCB7fSwgewogICAgICAgICAgICAgICAgaWQ6IHVzZXJJZAogICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGxvYWRDb2FjaGVzOiBmdW5jdGlvbiBsb2FkQ29hY2hlcyhjb250ZXh0LCBwYXlsb2FkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIHJlc3BvbnNlLCByZXNwb25zZURhdGEsIGVycm9yLCBjb2FjaGVzLCBrZXksIGNvYWNoOwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGlmICghKCFwYXlsb2FkLmZvcmNlUmVmcmVzaCAmJiAhY29udGV4dC5nZXR0ZXJzLnNob3VsZFVwZGF0ZSkpIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHBzOi8vdnVlLWh0dHAtY2Y3N2MtZGVmYXVsdC1ydGRiLmZpcmViYXNlaW8uY29tL2NvYWNoZXMuanNvbiIpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2UubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIScpOwogICAgICAgICAgICAgIHRocm93IGVycm9yOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjb2FjaGVzID0gW107CgogICAgICAgICAgICAgIGZvciAoa2V5IGluIHJlc3BvbnNlRGF0YSkgewogICAgICAgICAgICAgICAgY29hY2ggPSB7CiAgICAgICAgICAgICAgICAgIGlkOiBrZXksCiAgICAgICAgICAgICAgICAgIGZpcnN0TmFtZTogcmVzcG9uc2VEYXRhW2tleV0uZmlyc3ROYW1lLAogICAgICAgICAgICAgICAgICBsYXN0TmFtZTogcmVzcG9uc2VEYXRhW2tleV0ubGFzdE5hbWUsCiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiByZXNwb25zZURhdGFba2V5XS5kZXNjcmlwdGlvbiwKICAgICAgICAgICAgICAgICAgaG91cmx5UmF0ZTogcmVzcG9uc2VEYXRhW2tleV0uaG91cmx5UmF0ZSwKICAgICAgICAgICAgICAgICAgYXJlYXM6IHJlc3BvbnNlRGF0YVtrZXldLmFyZWFzCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgY29hY2hlcy5wdXNoKGNvYWNoKTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRDb2FjaGVzJywgY29hY2hlcyk7CiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ3NldEZldGNoVGltZXN0YW1wJyk7CgogICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTIpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["/home/chetan/vue-js/section_17/src/store/modules/coaches/actons.js"],"names":["registerCoach","context","data","userId","rootGetters","coachData","firstName","first","lastName","last","description","desc","hourlyRate","rate","areas","token","fetch","method","body","JSON","stringify","response","ok","commit","id","loadCoaches","payload","forceRefresh","getters","shouldUpdate","json","responseData","error","Error","message","coaches","key","coach","push"],"mappings":";;;;;;;;;AAAA,eAAe;AACLA,EAAAA,aADK,yBACSC,OADT,EACkBC,IADlB,EACwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACzBC,cAAAA,MADyB,GAChBF,OAAO,CAACG,WAAR,CAAoBD,MADJ;AAEzBE,cAAAA,SAFyB,GAEb;AACdC,gBAAAA,SAAS,EAAEJ,IAAI,CAACK,KADF;AAEdC,gBAAAA,QAAQ,EAAEN,IAAI,CAACO,IAFD;AAGdC,gBAAAA,WAAW,EAAER,IAAI,CAACS,IAHJ;AAIdC,gBAAAA,UAAU,EAAEV,IAAI,CAACW,IAJH;AAKdC,gBAAAA,KAAK,EAAEZ,IAAI,CAACY;AALE,eAFa;AAUzBC,cAAAA,KAVyB,GAUjBd,OAAO,CAACG,WAAR,CAAoBW,KAVH;AAAA;AAAA,qBAYRC,KAAK,CAAC,qEAA8Db,MAA9D,mBAAoFY,KAArF,EAA4F;AACpHE,gBAAAA,MAAM,EAAE,KAD4G;AAEpHC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAef,SAAf;AAF8G,eAA5F,CAZG;;AAAA;AAYzBgB,cAAAA,QAZyB;;AAiB/B;AAEA,kBAAG,CAACA,QAAQ,CAACC,EAAb,EAAiB,CACb;AACH;;AAEDrB,cAAAA,OAAO,CAACsB,MAAR,CAAe,eAAf,kCACOlB,SADP;AAEImB,gBAAAA,EAAE,EAAErB;AAFR;;AAvB+B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA2BlC,GA5BU;AA6BLsB,EAAAA,WA7BK,uBA6BOxB,OA7BP,EA6BgByB,OA7BhB,EA6ByB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAC7B,CAACA,OAAO,CAACC,YAAT,IAAyB,CAAC1B,OAAO,CAAC2B,OAAR,CAAgBC,YADb;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,qBAKTb,KAAK,mEALI;;AAAA;AAK1BK,cAAAA,QAL0B;AAAA;AAAA,qBAOLA,QAAQ,CAACS,IAAT,EAPK;;AAAA;AAO1BC,cAAAA,YAP0B;;AAAA,kBAS5BV,QAAQ,CAACC,EATmB;AAAA;AAAA;AAAA;;AAUtBU,cAAAA,KAVsB,GAUd,IAAIC,KAAJ,CAAUZ,QAAQ,CAACa,OAAT,IAAoB,kBAA9B,CAVc;AAAA,oBAWtBF,KAXsB;;AAAA;AAc1BG,cAAAA,OAd0B,GAchB,EAdgB;;AAgBhC,mBAAUC,GAAV,IAAiBL,YAAjB,EAA+B;AACrBM,gBAAAA,KADqB,GACb;AACVb,kBAAAA,EAAE,EAAEY,GADM;AAEV9B,kBAAAA,SAAS,EAAEyB,YAAY,CAACK,GAAD,CAAZ,CAAkB9B,SAFnB;AAGVE,kBAAAA,QAAQ,EAAEuB,YAAY,CAACK,GAAD,CAAZ,CAAkB5B,QAHlB;AAIVE,kBAAAA,WAAW,EAAEqB,YAAY,CAACK,GAAD,CAAZ,CAAkB1B,WAJrB;AAKVE,kBAAAA,UAAU,EAAEmB,YAAY,CAACK,GAAD,CAAZ,CAAkBxB,UALpB;AAMVE,kBAAAA,KAAK,EAAGiB,YAAY,CAACK,GAAD,CAAZ,CAAkBtB;AANhB,iBADa;AAS3BqB,gBAAAA,OAAO,CAACG,IAAR,CAAaD,KAAb;AACH;;AAEDpC,cAAAA,OAAO,CAACsB,MAAR,CAAe,YAAf,EAA6BY,OAA7B;AACAlC,cAAAA,OAAO,CAACsB,MAAR,CAAe,mBAAf;;AA7BgC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8BnC;AA3DU,CAAf","sourcesContent":["export default {\n    async registerCoach(context, data) {\n        const userId = context.rootGetters.userId;\n        const coachData = {\n            firstName: data.first,\n            lastName: data.last,\n            description: data.desc,\n            hourlyRate: data.rate,\n            areas: data.areas\n        };\n\n        const token = context.rootGetters.token;\n\n        const response = await fetch(`https://vue-http-cf77c-default-rtdb.firebaseio.com/coaches/${userId}.json?auth=` + token, {\n            method: 'PUT',\n            body: JSON.stringify(coachData)\n        });\n\n        // const responseData = await response.json();\n\n        if(!response.ok) {\n            //    error \n        }\n\n        context.commit('registerCoach', {\n            ...coachData,\n            id: userId\n        });\n    },\n    async loadCoaches(context, payload) {\n        if(!payload.forceRefresh && !context.getters.shouldUpdate) {\n            return;\n        }\n\n        const response = await fetch(`https://vue-http-cf77c-default-rtdb.firebaseio.com/coaches.json`);\n\n        const responseData = await response.json();\n        \n        if(!response.ok) {\n            const error = new Error(response.message || 'Failed to fetch!');\n            throw error;\n        }\n\n        const coaches = [];\n\n        for(const key in responseData) {\n            const coach = {\n                id: key,\n                firstName: responseData[key].firstName,\n                lastName: responseData[key].lastName,\n                description: responseData[key].description,\n                hourlyRate: responseData[key].hourlyRate,\n                areas:  responseData[key].areas\n            };\n            coaches.push(coach)\n        }\n\n        context.commit('setCoaches', coaches)\n        context.commit('setFetchTimestamp');\n    }\n}"]}]}