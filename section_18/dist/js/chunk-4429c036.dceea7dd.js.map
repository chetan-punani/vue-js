{"version":3,"sources":["webpack:///./src/pages/auth/UserAuth.vue","webpack:///./src/pages/auth/UserAuth.vue?9126","webpack:///./src/pages/auth/UserAuth.vue?4912"],"names":["_createElementVNode","class","for","_createElementBlock","_createVNode","_component_base_dialog","show","$data","title","onClose","$options","_toDisplayString","fixed","_hoisted_1","_component_base_spinner","_component_base_card","onSubmit","_hoisted_3","type","id","$event","_hoisted_5","_hoisted_6","_component_base_button","mode","onClick","data","email","password","formIsValid","isLoading","error","computed","submitButtonCaption","this","switchButtonCaption","methods","submitForm","includes","length","actionPayload","$store","dispatch","redirectUrl","$route","query","redirect","$router","replace","message","switchAuthMode","handleError","__exports__","render"],"mappings":"iPAMQA,eAAyB,SAAtB,sBAAkB,M,GAKhBC,MAAM,gB,uBACTD,eAAgC,SAAzBE,IAAI,SAAQ,SAAK,M,GAGrBD,MAAM,gB,uBACTD,eAAsC,SAA/BE,IAAI,YAAW,YAAQ,M,6LAftCC,eA2BU,gBA1BNC,eAEcC,EAAA,CAFAC,OAAQC,QAAOC,MAAM,mBAAoBC,QAAOC,eAA9D,C,wBACE,iBAAkB,CAAlBV,eAAkB,SAAAW,eAAZJ,SAAK,O,KADb,sBAGAH,eAGcC,EAAA,CAHAC,KAAMC,YAAWC,MAAM,oBAAoBI,MAAA,IAAzD,C,wBACE,iBAAyB,CAAzBC,EACAT,eAA6BU,O,KAF/B,YAIFV,eAkBYW,EAAA,M,wBAjBV,iBAgBO,CAhBPf,eAgBO,QAhBAgB,SAAM,8CAAUN,gDAAU,eAAjC,CACEV,eAGM,MAHN,EAGM,CAFJiB,EAEI,eADJjB,eAAsD,SAA/CkB,KAAK,QAAQC,GAAG,Q,qDAAsBZ,QAAKa,KAAlD,mBAA6Cb,gB,MAAd,QAEjCP,eAGM,MAHN,EAGM,CAFJqB,EAEI,eADJrB,eAA+D,SAAxDkB,KAAK,WAAWC,GAAG,W,qDAAyBZ,WAAQa,KAA3D,mBAAmDb,mB,MAAd,QAE7BA,cAAV,uBAAUA,iBAAVJ,eAEI,IAAAmB,EAFmB,6DAGvBlB,eAAoDmB,EAAA,M,wBAAvC,iBAAyB,+BAAtBb,uBAAmB,O,MACnCN,eAEgBmB,EAAA,CAFHL,KAAK,SAASM,KAAK,OAAQC,QAAOf,kBAA/C,C,wBAA+D,iBAE7D,+BADAA,uBAAmB,O,KADrB,gBAbF,Q,wBAsBS,G,kDAAA,CACbgB,KADa,WAEX,MAAO,CACLC,MAAO,GACPC,SAAU,GACVC,aAAa,EACbL,KAAM,QACNM,WAAW,EACXC,MAAO,OAGXC,SAAU,CACRC,oBADQ,WAEN,MAAkB,UAAdC,KAAKV,KACA,QAEA,UAGXW,oBARQ,WASN,MAAkB,UAAdD,KAAKV,KACA,gBAEA,iBAIbY,QAAS,CACDC,WADC,WACY,mKACjB,EAAKR,aAAc,EAGF,KAAf,EAAKF,OACJ,EAAKA,MAAMW,SAAS,QACrB,EAAKV,SAASW,OAAS,GANR,uBAQf,EAAKV,aAAc,EARJ,6BAYjB,EAAKC,WAAY,EAEXU,EAAgB,CAChBb,MAAO,EAAKA,MACZC,SAAU,EAAKA,UAhBJ,SAoBG,UAAd,EAAKJ,KApBM,kCAqBP,EAAKiB,OAAOC,SAAS,QAASF,GArBvB,iDAuBP,EAAKC,OAAOC,SAAS,SAAUF,GAvBxB,QAyBTG,EAAc,KAAO,EAAKC,OAAOC,MAAMC,UAAY,WACzD,EAAKC,QAAQC,QAAQL,GA1BN,qDA4Bf,EAAKZ,MAAQ,KAAMkB,SAAW,sCA5Bf,QA+BjB,EAAKnB,WAAY,EA/BA,6DAiCnBoB,eAlCO,WAmCa,UAAdhB,KAAKV,KACPU,KAAKV,KAAO,SAEZU,KAAKV,KAAO,SAGhB2B,YAzCO,WA0CHjB,KAAKH,MAAQ,S,iCC9FrB,MAAMqB,EAA2B,IAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAE1E,gB,2DCTf","file":"js/chunk-4429c036.dceea7dd.js","sourcesContent":["<template>\n  <section>\n      <base-dialog :show=\"!!error\" title=\"An Error Occured\" @close=\"handleError\">\n        <p>{{ error }}</p>\n      </base-dialog>\n      <base-dialog :show=\"isLoading\" title=\"Authenticating...\" fixed>\n        <p>Authenticating....</p>\n        <base-spinner></base-spinner>\n      </base-dialog>\n    <base-card>\n      <form @submit.prevent=\"submitForm\">\n        <div class=\"form-control\">\n          <label for=\"email\">Email</label>\n          <input type=\"email\" id=\"email\" v-model.trim=\"email\" />\n        </div>\n        <div class=\"form-control\">\n          <label for=\"password\">Password</label>\n          <input type=\"password\" id=\"password\" v-model.trim=\"password\" />\n        </div>\n        <p v-if=\"!formIsValid\">\n          Please enter email and password (must be 6 characters)\n        </p>\n        <base-button>{{ submitButtonCaption }}</base-button>\n        <base-button type=\"button\" mode=\"flat\" @click=\"switchAuthMode\">{{\n          switchButtonCaption\n        }}</base-button>\n      </form>\n    </base-card>\n  </section>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      email: \"\",\n      password: \"\",\n      formIsValid: true,\n      mode: \"login\",\n      isLoading: false,\n      error: null,\n    };\n  },\n  computed: {\n    submitButtonCaption() {\n      if (this.mode === \"login\") {\n        return \"Login\";\n      } else {\n        return \"Signup\";\n      }\n    },\n    switchButtonCaption() {\n      if (this.mode === \"login\") {\n        return \"Signup insted\";\n      } else {\n        return \"Login insted\";\n      }\n    },\n  },\n  methods: {\n    async submitForm() {\n      this.formIsValid = true;\n\n      if (\n        this.email === \"\" ||\n        !this.email.includes(\"@\") ||\n        this.password.length < 6\n      ) {\n        this.formIsValid = false;\n        return;\n      }\n\n      this.isLoading = true;\n\n      const actionPayload = {\n            email: this.email,\n            password: this.password,\n          };\n\n      try {\n        if (this.mode === \"login\") {\n          await this.$store.dispatch('login', actionPayload);\n        } else {\n          await this.$store.dispatch(\"signup\", actionPayload);\n        }\n        const redirectUrl = '/' + (this.$route.query.redirect || 'coaches');\n        this.$router.replace(redirectUrl);\n      } catch (error) {\n        this.error = error.message || \"Failed to authentication, try later\";\n      }\n\n      this.isLoading = false;\n    },\n    switchAuthMode() {\n      if (this.mode === \"login\") {\n        this.mode = \"signup\";\n      } else {\n        this.mode = \"login\";\n      }\n    },\n    handleError() {\n        this.error = null;\n    }\n  },\n};\n</script>\n\n<style scoped>\nform {\n  margin: 1rem;\n  padding: 1rem;\n}\n\n.form-control {\n  margin: 0.5rem 0;\n}\n\nlabel {\n  font-weight: bold;\n  margin-bottom: 0.5rem;\n  display: block;\n}\n\ninput,\ntextarea {\n  display: block;\n  width: 100%;\n  font: inherit;\n  border: 1px solid #ccc;\n  padding: 0.15rem;\n}\n\ninput:focus,\ntextarea:focus {\n  border-color: #3d008d;\n  background-color: #faf6ff;\n  outline: none;\n}\n</style>\n","import { render } from \"./UserAuth.vue?vue&type=template&id=4c0a2748&scoped=true\"\nimport script from \"./UserAuth.vue?vue&type=script&lang=js\"\nexport * from \"./UserAuth.vue?vue&type=script&lang=js\"\n\nimport \"./UserAuth.vue?vue&type=style&index=0&id=4c0a2748&scoped=true&lang=css\"\n\nimport exportComponent from \"/home/chetan/vue-js/section_18/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4c0a2748\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./UserAuth.vue?vue&type=style&index=0&id=4c0a2748&scoped=true&lang=css\""],"sourceRoot":""}